#@data/values
---
#! More info about this file: https://perzoinc.atlassian.net/wiki/spaces/SEARCH/pages/645366067/Elastic-Kibana+cluster+template+file
cluster_name: people-search #! MUST CONFORM WITH DNS NAMING CONVENTIONS: https://tools.ietf.org/html/rfc1035
image: luisplazas/elastic:7.4.2
version: 7.4.2
node_configuration:
  master:
    storage_size: 7G #! Must specify unit e.g. 75G or 65 Gi
    count: 1
    node_instance_type: c5.large
    resources_per_node:
      cpu: 2
      memory: 4 #! Amount in GiB
  data:
    storage_size: 7G #! Must specify unit e.g. 75G or 65 Gi
    node_instance_type: t3.large
    resources_per_node:
      cpu: 2
      memory: 8 #! Amount in GiB
    availability_zones:
      - zone_name: us-east-1a #! Make sure there is an EKS node group in this zone
        count: 1
      - zone_name: us-east-1b #! Make sure there is an EKS node group in this zone
        count: 1
elb:
  elastic:
    tls:
      customCertificate: false #! If you want to specify a custom SSL certificate, set this value to true and specify an existing k8sSecretName below;
      #! If customCertificate is set to false, the k8sSecretName will be ignored and self signed certificates will be generated.
      k8sSecretName: my-cert #! Secret name containing the SSL certificates and key. See: https://perzoinc.atlassian.net/wiki/spaces/SEARCH/pages/644715466/Configure+SSL+certificates+for+Elasticsearch
    extraSecurityGroupIds: "" #! Any other security groups that should have access to the ELB
    loadBalancerSourceRanges: #! All IP ranges allowed to access the ELB
      - 208.184.224.194/32
      - 64.79.115.2/32
      - 35.239.150.121/32
      - 35.188.142.59/32
      - 35.225.119.41/32
      - 35.227.18.124/32
      - 35.227.87.44/32
      - 35.237.136.190/32
  kibana:
    tls:
      customCertificate: false #! If you want to specify a custom SSL certificate, set this value to true and specify an existing k8sSecretName below;
      #! If autoGenerated is set to false, the k8sSecretName will be ignored and self signed certificates will be generated.
      k8sSecretName: my-cert #! Secret name containing the SSL certificates and key. See: https://perzoinc.atlassian.net/wiki/spaces/SEARCH/pages/644715466/Configure+SSL+certificates+for+Elasticsearch
    extraSecurityGroupIds: "" #! Any other security groups that should have access to the ELB
    loadBalancerSourceRanges: #! All IP ranges allowed to access the ELB
      - 208.184.224.194/32
      - 64.79.115.2/32
